<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Stars Gallery</title>
	<style>
		body {
			width: 60%;
			margin: auto;
		}
		img {
			width: 400px;
			height: 300px;
			text-align: center;
			line-height: 300px;
			font-size: 36px;
		}
		ul#image-gallery {
			list-style: none;
			padding: 0;
		}
		ul#image-gallery li {
			float: left;
			padding: 1em;
		}
		ul#image-gallery li a {
			text-decoration: none;
		}
		ul#image-gallery .image-nail {
			width: 50px;
			height: 40px;
		}
		.clearfix::after {
			content: '';
			display: block;
			clear: both;
		}

	</style>
</head>
<body>
	<h1>Stars Gallery</h1>
	<ul id="image-gallery" class="clearfix">
		<li>
			<a href="./images/messi.jpg" title="Messi">
				<img class="image-nail" src="./images/messi-nail.jpg" alt="image nail">
			</a>
		</li>
		<li>
			<a href="./images/ronaldo.jpg" title="Ronaldo">
				<img class="image-nail" src="./images/ronaldo-nail.jpg" alt="image nail">
			</a>
		</li>
		<li>
			<a href="./images/zlatan.jpg" title="Zlatan">
				<img class="image-nail" src="./images/zlatan-nail.jpg" alt="image nail"></a>
		</li>
		<li>
			<a href="./images/ozil.jpg" title="Ozil">
				<img class="image-nail" src="./images/ozil-nail.jpg" alt="image nail">
			</a>
		</li>
	</ul>

	<script>
		/**
		 * Add onload  tool function.
		 */
		var addLoadEvent = function (func) {
			var oldLoadEvent = window.onload
			if (typeof oldLoadEvent === 'function') {
				window.onload = function () {
					oldLoadEvent()
					func()
				}
			} else {
				window.onload = func
			}
		}
		/**
		 * Add insertAfter tool function 
		 */
		var insertAfter = function (newElement, targetElement) {
			let parent = targetElement.parentNode
			if (parent.lastChild === targetElement) {
				parent.appendChild(newElement)
			} else {
				parent.insertBefore(newElement, targetElement.nextSibling)
			}
		}

		/**
		 * Prepare Gallery Holder and Description
		 */
		 var prepareGalleryHolder = function () {
		 	let $imgHolder = document.createElement('img')
		 	$imgHolder.setAttribute('id', 'img-holder')
		 	$imgHolder.setAttribute('alt', 'Star Image')
		 	let $textHolder = document.createElement('p')
		 	$textHolder.setAttribute('id', 'text-holder')
		 	$textHolder.appendChild(document.createTextNode('Choose an image...'))

		 	let $gallery = document.getElementById('image-gallery')
		 	insertAfter($textHolder, $gallery)
		 	insertAfter($imgHolder, $gallery)
		 }

		/**
		 * switch Pictures
		 */
		var switchPic = function (pic) {
			var $imgHolder = document.getElementById('img-holder')
			var $textHolder = document.getElementById('text-holder')
			let src = pic.getAttribute('href')
			let text = pic.getAttribute('title') 
			$imgHolder.setAttribute('src', src)
			$textHolder.firstChild.nodeValue = text + '...'
			return false
		}

		/**
		 * init funciton
		 */
		var prepareGallery = function () {
			if (!document.getElementById || !document.getElementsByTagName) {
				return false
			}
			let $gallery = document.getElementById('image-gallery')
			let $links = $gallery.getElementsByTagName('a')
			for (var i = $links.length - 1; i >= 0; i--) {
				$links[i].onclick = function () {
					return switchPic(this) 
				}
			}
		}
		/**
		 * add load hanlder
		 */
		addLoadEvent(prepareGalleryHolder)
		addLoadEvent(prepareGallery)
	</script>
</body>
</html>